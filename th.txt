
learning25
backend -- cmd -- npm init --y
code .

    app.js

javascript  run --client side
javascript server side render -- node js -> runtime js

node js -- express -->api target

npm i nodemon -g

web server
express module
api creation

MERN:

e express : module : middleware fwork
n node js : run time js -- node

web application :- inst,fb,netflix, hotstar

client -- user -> request --> web server --->response..
webserver --> web application deployed

php - xamp wamp
java -- apache tomcat
.net - isserver

-------------
python
node express 

3rd party servers.. 
server creation

web server:

node-js - http module server
express -- server -- api create req,res 

react api consumer :fronetend 
api producers --> backend tech

GET : -- db -- dat fetch fe..
POST: ft tech --data -- datasbe store..
PUT : update
DELETE : deltee..
PATCH :partial 


//url
//localhost:3000/test
app.get("/test",(req,res)=>{

    console.log("test api called....")
    res.send("test api hit")
})

const user = {
    id:101,
    name:"amit",
    age:23,
    status:"active"
}

app.get("/user",(req,res)=>{

    //res.json(user)
    res.json({message:"user fetch successfully!!",data:user})
})

const users = [
    {
        id:1,
        name:"ram",
        age:22,
        status:"active",
    },
    {
        id:2,
        name:"seeta",
        age:22,
        status:"not active",
    },
    {
        id:3,
        name:"ramila",
        age:24,
        status:"active",
    }
]

//localhost:3000/users
app.get("/users",(req,res)=>{
    res.json({
        message:"users fetched..",
        users:users
    })
})


var employees = [
    {
        id:101,
        name:"ram",
        age:23,
        salary:23000,
        gender:"male"
    },
    {
        id:102,
        name:"seeta",
        age:23,
        salary:25000,
        gender:"female"
    },
    {
        id:103,
        name:"shyam",
        age:25,
        salary:30000,
        gender:"male"
    }
]

//localhost:3000/employees
app.get("/employees",(req,res)=>{
    res.json({
        message:"employee fatchedd.",
        data:employees
    })
})

//find employee by id
app.get("/employee/:id",(req,res)=>{

//    console.log(req.params.id) //{id:}
    const foundEmployee = employees.find((emp)=>emp.id == req.params.id)
    if(foundEmployee){
        res.json({
            message:"employee found!",
            data:foundEmployee
        })
    }
    else{
        res.json({
            message:"employee not found with given id",
            data:null
        })
    }
})


app.get("/employeebygender/:gender",(req,res)=>{

    const gender = req.params.gender;

    const foundEmployees = employees.filter((emp)=>emp.gender == gender)
    if(foundEmployees && foundEmployees.length >0){
        res.json({
            message:"employee fouind with criteria",
            data:foundEmployees
        })
    }
    else{
        res.json({
            message:"employees not found with given criteria",
            data:[]
        })
    }

})

app.get("/employees1",(req,res)=>{
    
    const{name,age} =req.query
    if(name ==undefined || age == undefined){
        res.json({
            message:"req params are not passed.."
        })
    }
    else{
        const foundEmployee = employees.filter((emp)=>emp.age == age && emp.name == name)
        if(foundEmployee){
            res.json({
                message:"employee found with criteria",
                data:foundEmployee
            })
        }
        else{
            res.json({
                message:"employee not found with criteria",
                data:[]
            })
        }
    }
})


mongoose ORM frmaewarok :


//nosql -->mongodb --mongoose

//required usermodel
const userSchema = require("./models/UserModel")

app.get("/users",async(req,res)=>{
    //db.users.find()
    //db.users == userSchema
    const users = await userSchema.find()
    res.json({
        data:users
    })
})
app.get("/user/:id",async(req,res)=>{
    const foundUser = await userSchema.findById(req.params.id)
    if(foundUser){
        res.json({
            message:"user found",
            data:foundUser
        })
    }
    else{
        res.json({
            message:"user not found.."
        })
    }
})


folder structure:
server --app --> Routes File Load -->Controllers --> Functino --api

SQL Foreign KEY:

2 collection realtion

SQL: table:
user
id name email age.. rId[fk]ref role table

nodemailer
zzdr mlhm vqnd pwva

middleware...

file uploading...
1 location -->2 location copy --[prog]
3 place store:

1)database : limited space : optimized : file:
2)server   : space : costly : secure
3)cloud    : lot space cheape, less secure

----------------------------------------------
API : form data text,array,number, boolean : json
    : file files : binery data :        :no json -> form-data

multer:
npm i multer    
